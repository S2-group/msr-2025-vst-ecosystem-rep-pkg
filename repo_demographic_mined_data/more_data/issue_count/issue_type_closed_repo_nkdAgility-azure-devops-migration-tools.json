{"total_count": 771, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/nkdAgility/azure-devops-migration-tools/issues/1637", "repository_url": "https://api.github.com/repos/nkdAgility/azure-devops-migration-tools", "labels_url": "https://api.github.com/repos/nkdAgility/azure-devops-migration-tools/issues/1637/labels{/name}", "comments_url": "https://api.github.com/repos/nkdAgility/azure-devops-migration-tools/issues/1637/comments", "events_url": "https://api.github.com/repos/nkdAgility/azure-devops-migration-tools/issues/1637/events", "html_url": "https://github.com/nkdAgility/azure-devops-migration-tools/issues/1637", "id": 1874990688, "node_id": "I_kwDOA1tcXs5vwhZg", "number": 1637, "title": "Issue with workitem Migration ", "user": {"login": "radhiam", "id": 142905414, "node_id": "U_kgDOCISQRg", "avatar_url": "https://avatars.githubusercontent.com/u/142905414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/radhiam", "html_url": "https://github.com/radhiam", "followers_url": "https://api.github.com/users/radhiam/followers", "following_url": "https://api.github.com/users/radhiam/following{/other_user}", "gists_url": "https://api.github.com/users/radhiam/gists{/gist_id}", "starred_url": "https://api.github.com/users/radhiam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/radhiam/subscriptions", "organizations_url": "https://api.github.com/users/radhiam/orgs", "repos_url": "https://api.github.com/users/radhiam/repos", "events_url": "https://api.github.com/users/radhiam/events{/privacy}", "received_events_url": "https://api.github.com/users/radhiam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-08-31T07:58:55Z", "updated_at": "2023-09-05T08:35:47Z", "closed_at": "2023-09-05T08:35:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Version\n\n- [X] I confirm that I am using the latest version\n\n### Source Version\n\nTeam Foundation Server 2017\n\n### Target Version\n\nAzure DevOps Service\n\n### Relevant configuration\n\n```shell\n{\r\n  \"ChangeSetMappingFile\": null,\r\n  \"Source\": {\r\n    \"$type\": \"TfsTeamProjectConfig\",\r\n    \"Collection\": \"xxxxx\",\r\n    \"Project\": \"xxxx\",\r\n    \"FilterWorkItemsThatAlreadyExistInTarget\": true,\r\n    \"AllowCrossProjectLinking\": false,\r\n    \"PersonalAccessToken\": \"xxxxx\",\r\n    \"PersonalAccessTokenVariableName\": \"\",\r\n    \"LanguageMaps\": {\r\n      \"AreaPath\": \"Area\",\r\n      \"IterationPath\": \"Iteration\"\r\n    }\r\n  },\r\n  \"Target\": {\r\n    \"$type\": \"TfsTeamProjectConfig\",\r\n    \"Collection\": \"xxxxx\",\r\n    \"Project\": \"xxxxxxx\",\r\n    \"ReflectedWorkItemIDFieldName\": \"Custom.ReflectedWorkItemId\",\r\n    \"AllowCrossProjectLinking\": false,\r\n    \"PersonalAccessToken\": \"xxxxx\",\r\n    \"PersonalAccessTokenVariableName\": \"\",\r\n    \"LanguageMaps\": {\r\n      \"AreaPath\": \"Area\",\r\n      \"IterationPath\": \"Iteration\"\r\n    }\r\n  },\r\n  \"FieldMaps\": [\r\n    {\r\n      \"$type\": \"FieldValueMapConfig\",\r\n      \"WorkItemTypeName\": \"*\",\r\n      \"sourceField\": \"System.State\",\r\n      \"targetField\": \"System.State\",\r\n      \"valueMapping\": {\r\n        \"Approved\": \"Approved\",\r\n        \"New\": \"New\",\r\n        \"Committed\": \"Committed\",\r\n        \"In Progress\": \"In Progress\",\r\n        \"To Do\": \"To Do\",\r\n        \"Done\": \"Done\",\r\n        \"Removed\": \"Removed\",\r\n        \"Resolved\": \"Resolved\",\r\n        \"Design\": \"Design\",\r\n        \"Closed\": \"Closed\",\r\n        \"Ready\": \"Ready\"\r\n      }\r\n    },\r\n    {\r\n      \"$type\": \"FieldtoFieldMapConfig\",\r\n      \"WorkItemTypeName\": \"*\",\r\n      \"sourceField\": \"Microsoft.VSTS.Common.BacklogPriority\",\r\n      \"targetField\": \"Microsoft.VSTS.Common.StackRank\",\r\n      \"defaultValue\": null\r\n    },\r\n    {\r\n      \"$type\": \"FieldtoFieldMultiMapConfig\",\r\n      \"WorkItemTypeName\": \"*\",\r\n      \"SourceToTargetMappings\": {\r\n        \"SourceField1\": \"TargetField1\",\r\n        \"SourceField2\": \"TargetField2\"\r\n      }\r\n    },\r\n    {\r\n      \"$type\": \"FieldtoTagMapConfig\",\r\n      \"WorkItemTypeName\": \"*\",\r\n      \"sourceField\": \"System.State\",\r\n      \"formatExpression\": \"ScrumState:{0}\"\r\n    },\r\n    {\r\n      \"$type\": \"FieldMergeMapConfig\",\r\n      \"WorkItemTypeName\": \"*\",\r\n      \"sourceFields\": [\r\n        \"System.Description\",\r\n        \"Microsoft.VSTS.Common.AcceptanceCriteria\"\r\n      ],\r\n      \"targetField\": \"System.Description\",\r\n      \"formatExpression\": \"{0} <br/><br/><h3>Acceptance Criteria</h3>{1}\"\r\n    },\r\n    {\r\n      \"$type\": \"RegexFieldMapConfig\",\r\n      \"WorkItemTypeName\": \"*\",\r\n      \"sourceField\": \"COMPANY.PRODUCT.Release\",\r\n      \"targetField\": \"COMPANY.DEVISION.MinorReleaseVersion\",\r\n      \"pattern\": \"PRODUCT \\\\d{4}.(\\\\d{1})\",\r\n      \"replacement\": \"$1\"\r\n    },\r\n    {\r\n      \"$type\": \"FieldValuetoTagMapConfig\",\r\n      \"WorkItemTypeName\": \"*\",\r\n      \"sourceField\": \"Microsoft.VSTS.CMMI.Blocked\",\r\n      \"pattern\": \"Yes\",\r\n      \"formatExpression\": \"{0}\"\r\n    },\r\n    {\r\n      \"$type\": \"TreeToTagMapConfig\",\r\n      \"WorkItemTypeName\": \"*\",\r\n      \"toSkip\": 3,\r\n      \"timeTravel\": 1\r\n    },\r\n    { \r\n      \"$type\": \"MultiValueConditionalMapConfig\", \r\n      \"WorkItemTypeName\": \"User Story\", \r\n      \"sourceFieldsAndValues\": { \"System.State\": \"Active\" }, \r\n      \"targetFieldsAndValues\": { \"Microsoft.VSTS.Common.ActivatedDate\": null, \"Microsoft.VSTS.Common.ActivatedBy\": null } } \r\n  ],\r\n  \"GitRepoMapping\": null,\r\n  \"LogLevel\": \"Information\",\r\n  \"CommonEnrichersConfig\": null,\r\n  \"Processors\": [\r\n    {\r\n      \"$type\": \"WorkItemMigrationConfig\",\r\n      \"Enabled\": true,\r\n      \"ReplayRevisions\": true,\r\n      \"PrefixProjectToNodes\": false,\r\n      \"UpdateCreatedDate\": true,\r\n      \"UpdateCreatedBy\": true,\r\n      \"WIQLQueryBit\": \"AND  [Microsoft.VSTS.Common.ClosedDate] = '' AND [System.WorkItemType] NOT IN ('Test Suite', 'Test Plan','Shared Steps','Shared Parameter','Feedback Request')\",\r\n      \"WIQLOrderBit\": \"[System.ChangedDate] desc\",\r\n      \"LinkMigration\": true,\r\n      \"AttachmentMigration\": true,\r\n      \"AttachmentWorkingPath\": \"c:\\\\temp\\\\WorkItemAttachmentWorkingFolder\\\\\",\r\n      \"FixHtmlAttachmentLinks\": false,\r\n      \"SkipToFinalRevisedWorkItemType\": true,\r\n      \"WorkItemCreateRetryLimit\": 5,\r\n      \"FilterWorkItemsThatAlreadyExistInTarget\": true,\r\n      \"PauseAfterEachWorkItem\": false,\r\n      \"AttachmentMaxSize\": 480000000,\r\n      \"AttachRevisionHistory\": false,\r\n      \"LinkMigrationSaveEachAsAdded\": false,\r\n      \"GenerateMigrationComment\": true,\r\n      \"WorkItemIDs\": null,\r\n      \"MaxRevisions\": 0,\r\n      \"UseCommonNodeStructureEnricherConfig\": false,\r\n      \"StopMigrationOnMissingAreaIterationNodes\": false,\r\n      \"NodeBasePaths\": [],\r\n      \"AreaMaps\": {},\r\n      \"IterationMaps\": {\r\n           \r\n      },\r\n      \"MaxGracefulFailures\": 0,\r\n      \"SkipRevisionWithInvalidIterationPath\": false,\r\n      \"SkipRevisionWithInvalidAreaPath\": false\r\n    }\r\n  ],\r\n  \"Version\": \"13.1\",\r\n  \"workaroundForQuerySOAPBugEnabled\": false,\r\n  \"WorkItemTypeDefinition\": {\r\n    \"sourceWorkItemTypeName\": \"targetWorkItemTypeName\"\r\n  },\r\n  \"Endpoints\": {\r\n    \"InMemoryWorkItemEndpoints\": [\r\n      {\r\n        \"Name\": \"Source\",\r\n        \"EndpointEnrichers\": null\r\n      },\r\n      {\r\n        \"Name\": \"Target\",\r\n        \"EndpointEnrichers\": null\r\n      }\r\n    ]\r\n  }\r\n}\n```\n\n\n### Relevant log output\n\n```shell\nerror : \r\n[18:59:41 ERR] Field map fault\r\nMicrosoft.TeamFoundation.WorkItemTracking.Client.FieldDefinitionNotExistException: TF26027: A field definition Microsoft.VSTS.Common.AcceptanceCriteria in the work item type definition file does not exist. Add a definition for this field or remove the reference to the field and try again.\r\n   at Microsoft.TeamFoundation.WorkItemTracking.Client.FieldDefinitionCollection.get_Item(String name)\r\n   at Microsoft.TeamFoundation.WorkItemTracking.Client.FieldCollection.get_Item(String name)\r\n   at MigrationTools.FieldMaps.AzureDevops.ObjectModel.FieldMergeMap.InternalExecute(WorkItem source, WorkItem target) in D:\\a\\1\\s\\src\\MigrationTools.Clients.AzureDevops.ObjectModel\\FieldMaps\\FieldMergeMap.cs:line 47\r\n   at MigrationTools.FieldMaps.AzureDevops.ObjectModel.FieldMapBase.Execute(WorkItemData source, WorkItemData target) in D:\\a\\1\\s\\src\\MigrationTools.Clients.AzureDevops.ObjectModel\\FieldMaps\\FieldMapBase.cs:line 31\n```\n\n\n### What happened?\n\nwhile Migrating the workitems, out of 2500 workitems only 1500 has been migrated. while comparing the Source & target. seems like inprogress, closed items are not migrated to the target.\n\n### Debug in Visual Studio\n\n- [X] Visual Studio Debug", "reactions": {"url": "https://api.github.com/repos/nkdAgility/azure-devops-migration-tools/issues/1637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/nkdAgility/azure-devops-migration-tools/issues/1637/timeline", "performed_via_github_app": null, "state_reason": "completed", "score": 1.0}]}