{"total_count": 1, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/jsrice7391/PowershellVSTS/issues/1", "repository_url": "https://api.github.com/repos/jsrice7391/PowershellVSTS", "labels_url": "https://api.github.com/repos/jsrice7391/PowershellVSTS/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/jsrice7391/PowershellVSTS/issues/1/comments", "events_url": "https://api.github.com/repos/jsrice7391/PowershellVSTS/issues/1/events", "html_url": "https://github.com/jsrice7391/PowershellVSTS/issues/1", "id": 443625042, "node_id": "MDU6SXNzdWU0NDM2MjUwNDI=", "number": 1, "title": "Git script issues", "user": {"login": "arcotek-ltd", "id": 26305145, "node_id": "MDEyOk9yZ2FuaXphdGlvbjI2MzA1MTQ1", "avatar_url": "https://avatars.githubusercontent.com/u/26305145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arcotek-ltd", "html_url": "https://github.com/arcotek-ltd", "followers_url": "https://api.github.com/users/arcotek-ltd/followers", "following_url": "https://api.github.com/users/arcotek-ltd/following{/other_user}", "gists_url": "https://api.github.com/users/arcotek-ltd/gists{/gist_id}", "starred_url": "https://api.github.com/users/arcotek-ltd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arcotek-ltd/subscriptions", "organizations_url": "https://api.github.com/users/arcotek-ltd/orgs", "repos_url": "https://api.github.com/users/arcotek-ltd/repos", "events_url": "https://api.github.com/users/arcotek-ltd/events{/privacy}", "received_events_url": "https://api.github.com/users/arcotek-ltd/received_events", "type": "Organization", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-13T22:13:56Z", "updated_at": "2019-05-13T22:20:47Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Hi Justin,\r\n\r\nThanks for posting your pipeline steps.\r\n\r\nI'm having trouble with the[ Git script](https://github.com/jsrice7391/PowershellVSTS/blob/master/Build.yaml#L47). What are your branch beginning states, i.e. do master and another branch exist and what are the steps your Git script takes?\r\n\r\nI have a `master` and `develop` branch. I work in the `develop` branch which is triggered by the pipeline push. I understand the purpose of the Git script is to commit changes to the version number made in the pipeline by `deploy.ps1` (or inline). Would I be right in thinking that your Git script aims not to \"stamp\" commits made by the pipeline? My reasoning is for messages such as `[detached HEAD 3d0d203] Changes made from Pipeline` \"detached\" being the operative word.\r\n\r\nAs I already have a develop branch, the following line fails:\r\n`git branch %sourceBranch%`\r\nwith:\r\n`fatal: A branch named 'origin/develop' already exists.`\r\n\r\nAnd as I already have a master branch, so too does this line:\r\n`git checkout -b master HEAD@{0}`\r\nwith\r\n`fatal: A branch named 'master' already exists.`\r\n\r\nThe result is no changes are merged from develop to master. I see\r\n```\r\nCREATING COMMIT\r\n[detached HEAD 3d0d203] Changes made from Pipeline\r\n 3 files changed, 15 insertions(+), 13 deletions(-)\r\n rewrite MyModule.nuspec (75%)\r\nCHECKING MASTER\r\n```\r\nsuggesting it has picked up the changes to `MyModule.nuspec`, `MyModule.psd1` and `README.MD`.\r\n\r\nThen the final few lines are:\r\n```\r\nAlready up to date!\r\nMerge made by the 'recursive' strategy.\r\nHEAD detached from 67df063\r\nnothing to commit, working tree clean\r\nEverything up-to-date\r\n```\r\n\r\nI'd really like to understand your script, so if you could provide any pointers / suggestions / further explanation, I'd be very grateful.\r\n\r\nThanks\r\n", "reactions": {"url": "https://api.github.com/repos/jsrice7391/PowershellVSTS/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jsrice7391/PowershellVSTS/issues/1/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]}