{"total_count": 1, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/lucianoiam/castello/issues/1", "repository_url": "https://api.github.com/repos/lucianoiam/castello", "labels_url": "https://api.github.com/repos/lucianoiam/castello/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/lucianoiam/castello/issues/1/comments", "events_url": "https://api.github.com/repos/lucianoiam/castello/issues/1/events", "html_url": "https://github.com/lucianoiam/castello/issues/1", "id": 1086722715, "node_id": "I_kwDOFmmeL85AxhKb", "number": 1, "title": "Empty UI after building from source code in VST2 and VST3 crash", "user": {"login": "Tolsi", "id": 1512650, "node_id": "MDQ6VXNlcjE1MTI2NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1512650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tolsi", "html_url": "https://github.com/Tolsi", "followers_url": "https://api.github.com/users/Tolsi/followers", "following_url": "https://api.github.com/users/Tolsi/following{/other_user}", "gists_url": "https://api.github.com/users/Tolsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tolsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tolsi/subscriptions", "organizations_url": "https://api.github.com/users/Tolsi/orgs", "repos_url": "https://api.github.com/users/Tolsi/repos", "events_url": "https://api.github.com/users/Tolsi/events{/privacy}", "received_events_url": "https://api.github.com/users/Tolsi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2021-12-22T11:20:28Z", "updated_at": "2022-01-21T15:50:56Z", "closed_at": "2021-12-23T20:22:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nAfter assembly on Mac OS X 12.1 (with M1), the x64 VST2 plugin works in the Ableton Live 11, but it has an empty interface window (just white). x64 VST3 plugin crash the Ableton Live 11, crash log lines:\r\n\r\n```\r\ndpf_factory::create_instance => 0x16c461518 {dpf_tuid_class} {v3_component} 0x30f6aca88\r\ndpf_component::unref                   => 0x6000037ec510 | refcount is zero, deleting everything now!\r\n```\r\n\r\nMy build log:\r\n\r\n```\r\n> git clone git@github.com:lucianoiam/castello.git\r\n...\r\n> cd castello/\r\n> git submodule update --init\r\n...\r\nSubmodule path 'hiphop': checked out 'ffe8aef646b6241a0e509e6fb4de0cb1181e576d'\r\n> arch -x86_64 make\r\n\u041f\u043e\u0434\u043c\u043e\u0434\u0443\u043b\u044c \u00abdpf\u00bb (https://github.com/DISTRHO/DPF) \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d \u043f\u043e \u043f\u0443\u0442\u0438 \u00abhiphop/dpf\u00bb\r\n\u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u00ab/Users/tolsi/Documents/code/castello/hiphop/dpf\u00bb\u2026\r\n\u041f\u043e\u0434\u043c\u043e\u0434\u0443\u043b\u044c \u00abdgl/src/pugl-upstream\u00bb (https://github.com/DISTRHO/pugl.git) \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d \u043f\u043e \u043f\u0443\u0442\u0438 \u00abhiphop/dpf/dgl/src/pugl-upstream\u00bb\r\n\u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u00ab/Users/tolsi/Documents/code/castello/hiphop/dpf/dgl/src/pugl-upstream\u00bb\u2026\r\n\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f HEAD \u0431\u044b\u043b\u0430 a5952348 Fix MSVC build\r\n\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0442\u043a\u0443 \u00abdevelop\u00bb\r\nhiphop : hiphop\r\nDPF    : hiphop/dpf @ develop\r\nBuild  : build\r\nTarget : bin\r\nCompiling src/CastelloReverbPlugin.cpp\r\nsrc/CastelloReverbPlugin.cpp:92:27: warning: 'kParameterIsAutomable' is deprecated [-Wdeprecated-declarations]\r\n        parameter.hints = kParameterIsAutomable;\r\n                          ^~~~~~~~~~~~~~~~~~~~~\r\n                          kParameterIsAutomatable\r\nhiphop/dpf/distrho/DistrhoPlugin.hpp:95:1: note: 'kParameterIsAutomable' has been explicitly marked deprecated here\r\nDISTRHO_DEPRECATED_BY(\"kParameterIsAutomatable\")\r\n^\r\nhiphop/dpf/distrho/src/DistrhoDefines.h:85:54: note: expanded from macro 'DISTRHO_DEPRECATED_BY'\r\n# define DISTRHO_DEPRECATED_BY(other) __attribute__((deprecated(\"\", other)))\r\n                                                     ^\r\n1 warning generated.\r\nCompiling src/dsp/base.c\r\nCompiling src/dsp/revsc.c\r\nCompiling DistrhoPluginMain.cpp (LV2)\r\nCreating LV2 plugin library for CastelloReverb\r\nCompiling src/CastelloReverbUI.cpp\r\nIn file included from src/CastelloReverbUI.cpp:19:\r\nIn file included from hiphop/src/WebHostUI.hpp:31:\r\nIn file included from hiphop/src/macos/MacWebHostUI.hpp:22:\r\nIn file included from hiphop/src/AbstractWebHostUI.hpp:26:\r\nIn file included from hiphop/dpf/distrho/DistrhoUI.hpp:35:\r\nhiphop/dpf/distrho/extra/ExternalWindow.hpp:475:19: warning: 'vfork' is deprecated: Use posix_spawn or fork [-Wdeprecated-declarations]\r\n            pid = vfork();\r\n                  ^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/unistd.h:604:1: note: 'vfork' has been explicitly marked deprecated here\r\n__deprecated_msg(\"Use posix_spawn or fork\")\r\n^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'\r\n        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))\r\n                                                      ^\r\n1 warning generated.\r\nCompiling hiphop/src/AbstractWebHostUI.cpp\r\nIn file included from hiphop/src/AbstractWebHostUI.cpp:19:\r\nIn file included from hiphop/src/AbstractWebHostUI.hpp:26:\r\nIn file included from hiphop/dpf/distrho/DistrhoUI.hpp:35:\r\nhiphop/dpf/distrho/extra/ExternalWindow.hpp:475:19: warning: 'vfork' is deprecated: Use posix_spawn or fork [-Wdeprecated-declarations]\r\n            pid = vfork();\r\n                  ^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/unistd.h:604:1: note: 'vfork' has been explicitly marked deprecated here\r\n__deprecated_msg(\"Use posix_spawn or fork\")\r\n^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'\r\n        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))\r\n                                                      ^\r\n1 warning generated.\r\nCompiling hiphop/src/AbstractWebView.cpp\r\nCompiling hiphop/src/JsValue.cpp\r\nCompiling hiphop/src/macos/MacPath.mm\r\nCompiling hiphop/src/macos/MacWebHostUI.mm\r\nIn file included from hiphop/src/macos/MacWebHostUI.mm:21:\r\nIn file included from hiphop/src/macos/MacWebHostUI.hpp:22:\r\nIn file included from hiphop/src/AbstractWebHostUI.hpp:26:\r\nIn file included from hiphop/dpf/distrho/DistrhoUI.hpp:35:\r\nhiphop/dpf/distrho/extra/ExternalWindow.hpp:475:19: warning: 'vfork' is deprecated: Use posix_spawn or fork [-Wdeprecated-declarations]\r\n            pid = vfork();\r\n                  ^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/unistd.h:604:1: note: 'vfork' has been explicitly marked deprecated here\r\n__deprecated_msg(\"Use posix_spawn or fork\")\r\n^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'\r\n        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))\r\n                                                      ^\r\n1 warning generated.\r\nCompiling hiphop/src/macos/CocoaWebView.mm\r\nCompiling DistrhoUI_macOS.mm (CastelloReverb)\r\nCompiling DistrhoUIMain.cpp (LV2)\r\nIn file included from hiphop/dpf/distrho/DistrhoUIMain.cpp:17:\r\nIn file included from hiphop/dpf/distrho/src/DistrhoUI.cpp:54:\r\nIn file included from hiphop/dpf/distrho/src/DistrhoUIPrivateData.hpp:20:\r\nIn file included from hiphop/dpf/distrho/src/../DistrhoUI.hpp:35:\r\nhiphop/dpf/distrho/extra/ExternalWindow.hpp:475:19: warning: 'vfork' is deprecated: Use posix_spawn or fork [-Wdeprecated-declarations]\r\n            pid = vfork();\r\n                  ^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/unistd.h:604:1: note: 'vfork' has been explicitly marked deprecated here\r\n__deprecated_msg(\"Use posix_spawn or fork\")\r\n^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'\r\n        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))\r\n                                                      ^\r\n1 warning generated.\r\nCreating LV2 plugin UI for CastelloReverb\r\nCompiling DistrhoPluginMain.cpp (VST2)\r\nIn file included from hiphop/dpf/distrho/DistrhoPluginMain.cpp:29:\r\nIn file included from hiphop/dpf/distrho/src/DistrhoPluginVST2.cpp:32:\r\nIn file included from hiphop/dpf/distrho/src/DistrhoUIInternal.hpp:20:\r\nIn file included from hiphop/dpf/distrho/src/DistrhoUIPrivateData.hpp:20:\r\nIn file included from hiphop/dpf/distrho/src/../DistrhoUI.hpp:35:\r\nhiphop/dpf/distrho/extra/ExternalWindow.hpp:475:19: warning: 'vfork' is deprecated: Use posix_spawn or fork [-Wdeprecated-declarations]\r\n            pid = vfork();\r\n                  ^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/unistd.h:604:1: note: 'vfork' has been explicitly marked deprecated here\r\n__deprecated_msg(\"Use posix_spawn or fork\")\r\n^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'\r\n        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))\r\n                                                      ^\r\n1 warning generated.\r\nCompiling DistrhoUIMain.cpp (VST2)\r\nIn file included from hiphop/dpf/distrho/DistrhoUIMain.cpp:17:\r\nIn file included from hiphop/dpf/distrho/src/DistrhoUI.cpp:54:\r\nIn file included from hiphop/dpf/distrho/src/DistrhoUIPrivateData.hpp:20:\r\nIn file included from hiphop/dpf/distrho/src/../DistrhoUI.hpp:35:\r\nhiphop/dpf/distrho/extra/ExternalWindow.hpp:475:19: warning: 'vfork' is deprecated: Use posix_spawn or fork [-Wdeprecated-declarations]\r\n            pid = vfork();\r\n                  ^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/unistd.h:604:1: note: 'vfork' has been explicitly marked deprecated here\r\n__deprecated_msg(\"Use posix_spawn or fork\")\r\n^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'\r\n        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))\r\n                                                      ^\r\n1 warning generated.\r\nCreating VST2 plugin for CastelloReverb\r\nCompiling DistrhoPluginMain.cpp (VST3)\r\nCompiling DistrhoUIMain.cpp (VST3)\r\nIn file included from hiphop/dpf/distrho/DistrhoUIMain.cpp:17:\r\nIn file included from hiphop/dpf/distrho/src/DistrhoUI.cpp:54:\r\nIn file included from hiphop/dpf/distrho/src/DistrhoUIPrivateData.hpp:20:\r\nIn file included from hiphop/dpf/distrho/src/../DistrhoUI.hpp:35:\r\nhiphop/dpf/distrho/extra/ExternalWindow.hpp:475:19: warning: 'vfork' is deprecated: Use posix_spawn or fork [-Wdeprecated-declarations]\r\n            pid = vfork();\r\n                  ^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/unistd.h:604:1: note: 'vfork' has been explicitly marked deprecated here\r\n__deprecated_msg(\"Use posix_spawn or fork\")\r\n^\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/sys/cdefs.h:208:48: note: expanded from macro '__deprecated_msg'\r\n        #define __deprecated_msg(_msg) __attribute__((__deprecated__(_msg)))\r\n                                                      ^\r\n1 warning generated.\r\nCreating VST3 plugin for CastelloReverb\r\nCopying web UI files\r\n/Library/Developer/CommandLineTools/usr/bin/make -C hiphop/dpf/utils/lv2-ttl-generator\r\ncc lv2_ttl_generator.c -Wall -Wextra -pipe -MD -MP -fPIC -DPIC -DNDEBUG -O3 -ffast-math -fdata-sections -ffunction-sections -mtune=generic -msse -msse2 -mfpmath=sse -fvisibility=hidden -std=gnu99  -o ../lv2_ttl_generator -fdata-sections -ffunction-sections -Wl,-dead_strip -Wl,-dead_strip_dylibs -Wl,-x\r\nGenerate ttl data for 'CastelloReverb_dsp', basename: 'CastelloReverb_dsp'\r\nWriting manifest.ttl... done!\r\nWriting CastelloReverb_dsp.ttl... done!\r\nWriting CastelloReverb_ui.ttl... done!\r\n```\r\n\r\nWhat can I fix?\r\n\r\nps I am very inspired by the ability to develop VSTs with JS UI, hopefully, in the future, this will become generally accepted! :)", "reactions": {"url": "https://api.github.com/repos/lucianoiam/castello/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lucianoiam/castello/issues/1/timeline", "performed_via_github_app": null, "state_reason": "completed", "score": 1.0}]}