{"total_count": 9, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/kindelia/Kindelia/issues/274", "repository_url": "https://api.github.com/repos/kindelia/Kindelia", "labels_url": "https://api.github.com/repos/kindelia/Kindelia/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/kindelia/Kindelia/issues/274/comments", "events_url": "https://api.github.com/repos/kindelia/Kindelia/issues/274/events", "html_url": "https://github.com/kindelia/Kindelia/pull/274", "id": 1510182966, "node_id": "PR_kwDOG1tIm85GKcmM", "number": 274, "title": "impl a custom builder for Node", "user": {"login": "dan-da", "id": 5110592, "node_id": "MDQ6VXNlcjUxMTA1OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5110592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dan-da", "html_url": "https://github.com/dan-da", "followers_url": "https://api.github.com/users/dan-da/followers", "following_url": "https://api.github.com/users/dan-da/following{/other_user}", "gists_url": "https://api.github.com/users/dan-da/gists{/gist_id}", "starred_url": "https://api.github.com/users/dan-da/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dan-da/subscriptions", "organizations_url": "https://api.github.com/users/dan-da/orgs", "repos_url": "https://api.github.com/users/dan-da/repos", "events_url": "https://api.github.com/users/dan-da/events{/privacy}", "received_events_url": "https://api.github.com/users/dan-da/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-12-24T20:03:30Z", "updated_at": "2023-01-02T13:19:48Z", "closed_at": null, "author_association": "NONE", "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/kindelia/Kindelia/pulls/274", "html_url": "https://github.com/kindelia/Kindelia/pull/274", "diff_url": "https://github.com/kindelia/Kindelia/pull/274.diff", "patch_url": "https://github.com/kindelia/Kindelia/pull/274.patch", "merged_at": null}, "body": "addresses #247.  (more to come)\r\n\r\nThis PR is intended to replace #265, or at least provide an alternative to it, for comparison by reviewer(s).  I personally consider this version nicer/cleaner.\r\n\r\nHere we impl a custom NodeBuilder that is more ergonomic for the caller than the version derived by derive_builder.  \r\n\r\nThe [builder pattern](https://blog.logrocket.com/build-rust-api-builder-pattern/) by its very nature involves some boilerplate with the setters, so there's no getting around that, but I've tried to keep it as simple as possible. \r\n\r\nI considered putting NodeBuilder inside node.rs, but my reasoning is that node.rs is already quite large, and using a dedicated builder.rs we are able to remove a bit of code from it, rather than add to.\r\n\r\nI included the previous commit that uses derive_builder to generate NodeBuilder, because I figure we might want to go back to it at some point, if derive_builder crate ever supports custom/transient properties as [I requested](https://github.com/Kindelia/Kindelia-Chain/pull/265#issuecomment-1363222644).\r\n\r\nI provided some basic doc-comments for the builder.  Those more familiar with the codebase may wish to flesh the docs out more.\r\n\r\nIf the builder approach is deemed too heavy, then I guess the alternative is to use the pre-existing Node::new() except it must return a Result.  I am willing to do that, but I do find this approach more flexible and pleasing.  :-)\r\n\r\n--------\r\n\r\ncommit message:\r\n\r\nImplements NodeBuilder which provides more ergonomic usage for callers\r\nthan the derive_builder version, and also keeps Node clean without\r\na lot of derive_builder annotations.\r\n\r\nbuilder.rs: new file added\r\n\r\nnode.rs:\r\n    * remove derive_builder annotations\r\n    * remove NodeBuilder impl\r\n    * remove ParseError variant from BlockBodyError\r\n    * add comment that Node should be built with NodeBuilder\r\n\r\nutil.rs\r\n    * make EpochError pub. It can bereturned by NodeBuilder::build()\r\n\r\nlib.rs:\r\n    * add builder mod\r\n\r\ntests, bench, kindelia/src/main:\r\n    * adjust usage of NodeBuilder\r\n", "reactions": {"url": "https://api.github.com/repos/kindelia/Kindelia/issues/274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/kindelia/Kindelia/issues/274/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]}