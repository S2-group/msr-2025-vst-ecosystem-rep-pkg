{"total_count": 7, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/asb2m10/dexed/issues/392", "repository_url": "https://api.github.com/repos/asb2m10/dexed", "labels_url": "https://api.github.com/repos/asb2m10/dexed/issues/392/labels{/name}", "comments_url": "https://api.github.com/repos/asb2m10/dexed/issues/392/comments", "events_url": "https://api.github.com/repos/asb2m10/dexed/issues/392/events", "html_url": "https://github.com/asb2m10/dexed/pull/392", "id": 1823130373, "node_id": "PR_kwDOAOR7V85WewMk", "number": 392, "title": "SIMD-vectorize operators using libhwy", "user": {"login": "risicle", "id": 807447, "node_id": "MDQ6VXNlcjgwNzQ0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/807447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/risicle", "html_url": "https://github.com/risicle", "followers_url": "https://api.github.com/users/risicle/followers", "following_url": "https://api.github.com/users/risicle/following{/other_user}", "gists_url": "https://api.github.com/users/risicle/gists{/gist_id}", "starred_url": "https://api.github.com/users/risicle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/risicle/subscriptions", "organizations_url": "https://api.github.com/users/risicle/orgs", "repos_url": "https://api.github.com/users/risicle/repos", "events_url": "https://api.github.com/users/risicle/events{/privacy}", "received_events_url": "https://api.github.com/users/risicle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-07-26T20:42:21Z", "updated_at": "2023-07-26T20:42:57Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/asb2m10/dexed/pulls/392", "html_url": "https://github.com/asb2m10/dexed/pull/392", "diff_url": "https://github.com/asb2m10/dexed/pull/392.diff", "patch_url": "https://github.com/asb2m10/dexed/pull/392.patch", "merged_at": null}, "body": "This is an offshoot from some experimentation I was doing using dexed and I wasn't really planning on developing further, but in case it's useful to anyone I'll present it here.\r\n\r\nThis uses google's [highway library](https://github.com/google/highway) to add SIMD versions of the most expensive parts of the synthesis. My crude testing suggests modest speed improvements of 10-20% for SSE2 to AVX2, but on an AVX512 machine this easily doubles speed for me. An ARM NEON system showed an embarrassing 4% acceleration.\r\n\r\nDexed doesn't have a test suite, but comparing the results against the existing scalar implementation showed a maximum relative error of ~0.003 between the two, which will be attributable to a different order of operations in some places.\r\n\r\nI don't know whether you'd ever actually want to make dexed depend on libhwy, but this would probably take a bit more polish if you ever wanted to actually merge it - I've tested it only on a limited variety of machines/architectures, haven't included options to disable vectorization support, have only configured libhwy for single-dispatch (no single-binary, dynamic cpu-extension-detecting, but I don't imagine it would be too hard to set that up).\r\n\r\nThe feedback-based operator loops are way too hard to vectorize, so they are left alone.", "reactions": {"url": "https://api.github.com/repos/asb2m10/dexed/issues/392/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/asb2m10/dexed/issues/392/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]}