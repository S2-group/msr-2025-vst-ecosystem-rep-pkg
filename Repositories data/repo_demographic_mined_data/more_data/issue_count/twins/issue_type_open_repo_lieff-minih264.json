{"total_count": 4, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/lieff/minih264/issues/12", "repository_url": "https://api.github.com/repos/lieff/minih264", "labels_url": "https://api.github.com/repos/lieff/minih264/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/lieff/minih264/issues/12/comments", "events_url": "https://api.github.com/repos/lieff/minih264/issues/12/events", "html_url": "https://github.com/lieff/minih264/issues/12", "id": 2203726457, "node_id": "I_kwDOCOucT86DWjJ5", "number": 12, "title": "apple silicon support", "user": {"login": "taylorchu", "id": 422998, "node_id": "MDQ6VXNlcjQyMjk5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/422998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taylorchu", "html_url": "https://github.com/taylorchu", "followers_url": "https://api.github.com/users/taylorchu/followers", "following_url": "https://api.github.com/users/taylorchu/following{/other_user}", "gists_url": "https://api.github.com/users/taylorchu/gists{/gist_id}", "starred_url": "https://api.github.com/users/taylorchu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taylorchu/subscriptions", "organizations_url": "https://api.github.com/users/taylorchu/orgs", "repos_url": "https://api.github.com/users/taylorchu/repos", "events_url": "https://api.github.com/users/taylorchu/events{/privacy}", "received_events_url": "https://api.github.com/users/taylorchu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2024-03-23T06:32:27Z", "updated_at": "2024-03-23T06:36:00Z", "closed_at": null, "author_association": "NONE", "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "active_lock_reason": null, "body": "1. asm version seems to have undefined types\r\n\r\n```\r\n./asm/minih264e_asm.h:33:59: error: unknown type name 'pix_t'\r\nH264E_API(int,  h264e_transform_sub_quant_dequant, (const pix_t *inp, const pix_t *pred, int inp_stride, int mode, quant_t *q, const uint16_t *qdat))\r\n```\r\n\r\n2. intrinsic version has errors related to `incompatible type 'uint8x8_t'`\r\n\r\n```\r\nIn file included from ./encoder.go:3:\r\nIn file included from ./encoder.h:7:\r\n./minih264e.h:5604:62: error: call to undeclared function 'vtbl2q_u8'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]\r\n                vst1_s16(q->qv + 0, d4 = vreinterpret_s16_u8(vtbl2q_u8(vlut, vget_low_u8(q8))));\r\n                                                             ^\r\n./minih264e.h:5604:62: error: passing 'int' to parameter of incompatible type 'uint8x8_t' (vector of 8 'uint8_t' values)\r\n                vst1_s16(q->qv + 0, d4 = vreinterpret_s16_u8(vtbl2q_u8(vlut, vget_low_u8(q8))));\r\n                                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/15.0.0/include/arm_neon.h:27007:20: note: expanded from macro 'vst1_s16'\r\n  int16x4_t __s1 = __p1; \\\r\n                   ^~~~\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/15.0.0/include/arm_neon.h:59122:46: note: passing argument to parameter '__p0' here\r\n__ai int16x4_t vreinterpret_s16_u8(uint8x8_t __p0) {\r\n                                             ^\r\nIn file included from ./encoder.go:3:\r\nIn file included from ./encoder.h:7:\r\n./minih264e.h:5605:62: error: call to undeclared function 'vtbl2q_u8'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]\r\n                vst1_s16(q->qv + 4, d5 = vreinterpret_s16_u8(vtbl2q_u8(vlut, vget_high_u8(q8))));\r\n                                                             ^\r\n./minih264e.h:5605:62: error: passing 'int' to parameter of incompatible type 'uint8x8_t' (vector of 8 'uint8_t' values)\r\n                vst1_s16(q->qv + 4, d5 = vreinterpret_s16_u8(vtbl2q_u8(vlut, vget_high_u8(q8))));\r\n                                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/15.0.0/include/arm_neon.h:27007:20: note: expanded from macro 'vst1_s16'\r\n  int16x4_t __s1 = __p1; \\\r\n                   ^~~~\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/15.0.0/include/arm_neon.h:59122:46: note: passing argument to parameter '__p0' here\r\n__ai int16x4_t vreinterpret_s16_u8(uint8x8_t __p0) {\r\n                                             ^\r\nIn file included from ./encoder.go:3:\r\nIn file included from ./encoder.h:7:\r\n./minih264e.h:5606:62: error: call to undeclared function 'vtbl2q_u8'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]\r\n                vst1_s16(q->qv + 8, d6 = vreinterpret_s16_u8(vtbl2q_u8(vlut, vget_low_u8(q9))));\r\n                                                             ^\r\n./minih264e.h:5606:62: error: passing 'int' to parameter of incompatible type 'uint8x8_t' (vector of 8 'uint8_t' values)\r\n                vst1_s16(q->qv + 8, d6 = vreinterpret_s16_u8(vtbl2q_u8(vlut, vget_low_u8(q9))));\r\n                                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/15.0.0/include/arm_neon.h:27007:20: note: expanded from macro 'vst1_s16'\r\n  int16x4_t __s1 = __p1; \\\r\n                   ^~~~\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/15.0.0/include/arm_neon.h:59122:46: note: passing argument to parameter '__p0' here\r\n__ai int16x4_t vreinterpret_s16_u8(uint8x8_t __p0) {\r\n                                             ^\r\nIn file included from ./encoder.go:3:\r\nIn file included from ./encoder.h:7:\r\n./minih264e.h:5607:62: error: call to undeclared function 'vtbl2q_u8'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]\r\n                vst1_s16(q->qv +12, d7 = vreinterpret_s16_u8(vtbl2q_u8(vlut, vget_high_u8(q9))));\r\n                                                             ^\r\n./minih264e.h:5607:62: error: passing 'int' to parameter of incompatible type 'uint8x8_t' (vector of 8 'uint8_t' values)\r\n                vst1_s16(q->qv +12, d7 = vreinterpret_s16_u8(vtbl2q_u8(vlut, vget_high_u8(q9))));\r\n                                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/15.0.0/include/arm_neon.h:27007:20: note: expanded from macro 'vst1_s16'\r\n  int16x4_t __s1 = __p1; \\\r\n                   ^~~~\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/15.0.0/include/arm_neon.h:59122:46: note: passing argument to parameter '__p0' here\r\n__ai int16x4_t vreinterpret_s16_u8(uint8x8_t __p0) {\r\n```", "reactions": {"url": "https://api.github.com/repos/lieff/minih264/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/lieff/minih264/issues/12/timeline", "performed_via_github_app": null, "state_reason": null, "score": 1.0}]}