{"total_count": 73, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/iqiyi/xCrash/issues/126", "repository_url": "https://api.github.com/repos/iqiyi/xCrash", "labels_url": "https://api.github.com/repos/iqiyi/xCrash/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/iqiyi/xCrash/issues/126/comments", "events_url": "https://api.github.com/repos/iqiyi/xCrash/issues/126/events", "html_url": "https://github.com/iqiyi/xCrash/issues/126", "id": 1643461074, "node_id": "I_kwDOCrGblc5h9TnS", "number": 126, "title": "APP\u662f\u591a\u8fdb\u7a0b\u7684\uff0c\u91c7\u96c6\u4e0d\u5230\u4e3b\u8fdb\u7a0b\u7684ANR", "user": {"login": "superoidlau", "id": 13853021, "node_id": "MDQ6VXNlcjEzODUzMDIx", "avatar_url": "https://avatars.githubusercontent.com/u/13853021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/superoidlau", "html_url": "https://github.com/superoidlau", "followers_url": "https://api.github.com/users/superoidlau/followers", "following_url": "https://api.github.com/users/superoidlau/following{/other_user}", "gists_url": "https://api.github.com/users/superoidlau/gists{/gist_id}", "starred_url": "https://api.github.com/users/superoidlau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/superoidlau/subscriptions", "organizations_url": "https://api.github.com/users/superoidlau/orgs", "repos_url": "https://api.github.com/users/superoidlau/repos", "events_url": "https://api.github.com/users/superoidlau/events{/privacy}", "received_events_url": "https://api.github.com/users/superoidlau/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-28T08:32:34Z", "updated_at": "2024-04-18T09:04:26Z", "closed_at": "2023-03-28T09:31:26Z", "author_association": "NONE", "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "active_lock_reason": null, "body": "\r\nxcrash\u521d\u59cb\u5316\u53ea\u4f1a\u5728\u4e3b\u8fdb\u7a0b\u6267\u884c\uff1a\r\n```\r\noverride fun attachBaseContext(base: Context?) {\r\n        super.attachBaseContext(base)\r\n\r\n        if (ProcessUtil.isMainProcess(this)) {\r\n            XCrash.init(\r\n            application, XCrash.InitParameters()\r\n                .setJavaRethrow(true)\r\n                .setJavaLogCountMax(10)\r\n                .setJavaDumpAllThreadsWhiteList(\r\n                    arrayOf<String>(\r\n                        \"^main$\",\r\n                        \"^Binder:.*\",\r\n                        \".*Finalizer.*\"\r\n                    )\r\n                )\r\n                .setJavaDumpAllThreadsCountMax(10)\r\n                .setJavaCallback(javaCrashCallback)\r\n                .setNativeRethrow(true)\r\n                .setNativeLogCountMax(10)\r\n                .setNativeDumpAllThreadsWhiteList(\r\n                    arrayOf<String>(\r\n                        \"^xcrash\\\\.sample$\",\r\n                        \"^Signal Catcher$\",\r\n                        \"^Jit thread pool$\",\r\n                        \".*(R|r)ender.*\",\r\n                        \".*Chrome.*\"\r\n                    )\r\n                )\r\n                .setNativeDumpAllThreadsCountMax(10)\r\n                .setNativeCallback(nativeCrashCallback)\r\n                .setAnrRethrow(true)\r\n                .setAnrLogCountMax(10)\r\n                .setAnrCallback(anrCallback)\r\n                .setAnrFastCallback(anrFastCallback)\r\n                //.setPlaceholderCountMax(3)\r\n                //.setPlaceholderSizeKb(512)\r\n                .setLogFileMaintainDelayMs(1000)\r\n                .setLogDir(crashSavePath.absolutePath)\r\n        )\r\n    }\r\n```\r\n\r\n\u5728`crashSavePath`\u76ee\u5f55\u4e0b\uff0c\u6ca1\u6709\u751f\u6210trace\u6587\u4ef6\u548canr.xcrash\u6587\u4ef6\u3002\r\n\r\n\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u4e0e\u591a\u8fdb\u7a0b\u6709\u5173\uff1f \u65b0\u5efa\u5355\u8fdb\u7a0bdemo\u8fdb\u884c\u540c\u6837\u7684\u521d\u59cb\u5316\u662f\u53ef\u4ee5\u7684\u3002", "reactions": {"url": "https://api.github.com/repos/iqiyi/xCrash/issues/126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/iqiyi/xCrash/issues/126/timeline", "performed_via_github_app": null, "state_reason": "completed", "score": 1.0}]}